-- bin/rake db:structure:dump  1/8/2016
-- Migrations: 
	-- 20151217170525_create_ns_groups
	-- 20151217173716_create_join_table_ns_group_patient
	-- 20151230214847_create_ns_notes


CREATE SEQUENCE "NS_GROUPS_SEQ"

/

CREATE SEQUENCE "NS_NOTES_SEQ"

/

/

/

CREATE TABLE "NS_GROUPS" (
"ID" NUMBER(38,0) NOT NULL,
 "DURATION" VARCHAR2(255),
 "GROUPNAME" VARCHAR2(255),
 "LEADER" VARCHAR2(255),
 "GROUPSITE" VARCHAR2(255),
 "FACILITY" VARCHAR2(255),
 "UPDATED_BY" VARCHAR2(255),
 "CREATED_AT" DATE,
 "UPDATED_AT" DATE,
 CONSTRAINT SYS_C007217 PRIMARY KEY (ID)
)

/

CREATE  INDEX "INDEX_NS_GROUPS_ON_FACILITY" ON "NS_GROUPS" ("FACILITY")

/

CREATE  INDEX "facility-groupname" ON "NS_GROUPS" ("FACILITY", "GROUPNAME")

/



/

CREATE TABLE "NS_GROUPS_PATIENTS" (
"NS_GROUP_ID" NUMBER(38,0) NOT NULL,
 "PATIENT_ID" NUMBER(38,0) NOT NULL
)

/

CREATE UNIQUE INDEX "ns-patient-id" ON "NS_GROUPS_PATIENTS" ("NS_GROUP_ID", "PATIENT_ID")

/

CREATE UNIQUE INDEX "patient-ns-id" ON "NS_GROUPS_PATIENTS" ("PATIENT_ID", "NS_GROUP_ID")

/

CREATE TABLE "NS_NOTES" (
"ID" NUMBER(38,0) NOT NULL,
 "NS_GROUP_ID" NUMBER(38,0),
 "PATIENT_ID" NUMBER(38,0),
 "PARTICIPATE" VARCHAR2(255),
 "RESPOND" VARCHAR2(255),
 "INTERACT_LEADER" VARCHAR2(255),
 "INTERACT_PEERS" VARCHAR2(255),
 "DISCUSSION_INIT" VARCHAR2(255),
 "DISCUSSION_UNDERSTAND" VARCHAR2(255),
 "COMMENT" CLOB,
 "UPDATED_BY" VARCHAR2(255),
 "GROUP_DATE" DATE,
 "CREATED_AT" DATE NOT NULL,
 "UPDATED_AT" DATE NOT NULL,
 CONSTRAINT SYS_C007375 PRIMARY KEY (ID)
)

/

CREATE  INDEX "nsnote-groupdate" ON "NS_NOTES" ("GROUP_DATE")

/

CREATE  INDEX "nsnote-groupid" ON "NS_NOTES" ("NS_GROUP_ID")

/

CREATE  INDEX "nsnote-groupid-date" ON "NS_NOTES" ("NS_GROUP_ID", "GROUP_DATE")

/

CREATE  INDEX "nsnote-patid-groupid" ON "NS_NOTES" ("PATIENT_ID", "NS_GROUP_ID")

/

CREATE  INDEX "nsnote-patientid" ON "NS_NOTES" ("PATIENT_ID")

/


/


/


INSERT INTO schema_migrations (version) VALUES ('20151217170525')

/

INSERT INTO schema_migrations (version) VALUES ('20151217173716')

/

INSERT INTO schema_migrations (version) VALUES ('20151230214847')

/


